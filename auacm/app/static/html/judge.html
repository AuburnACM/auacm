<div class="main-fixed col-md-10 col-md-offset-1" ng-controller="JudgeController">
  <h1>Submit File</h1>
  <div class="panel panel-default">
    <div class="panel-body">
      <form class="form-horizontal">
        <div class="form-group">
          <label for="pidSelector" class="col-sm-2 control-label">Problem</label>
          <div class="col-sm-8">
            <input id="pidSelector" type="text" ng-model="problem" placeholder="Problem name"
                uib-typeahead="problem as problem.name for problem in problems | filter:{name:$viewValue}"
                class="form-control">
          </div>
        </div>
        <div class="form-group">
          <label for="fileUpload" class="col-sm-2 control-label">Source code</label>
          <input type="file" accept=".java,.py,.c,.cpp,.c++,.go" file-model="file"
              ng-disabled="!loggedIn"/>
        </div>
        <div class="form-group" ng-if="file.name.endsWith('.py')">
          <label for="pythonSelector" class="col-sm-2 control-label">Python Version</label>
          <div class="col-sm-3">
            <select id="pythonSelector" class="col-sm-2 form-control"
                ng-model="python.version">
              <option value="py">Python 2.7</option>
              <option value="py3">Python 3</option>
            </select>
          </div>
        </div>
        <button type="submit" class="btn btn-default col-sm-offset-2 col-sm-2"
            ng-click="submit()" ng-disabled="!loggedIn || !problemSelected ||
            !file">Submit</button>
      </form>
    </div>
  </div>
  <div ng-show="submitted.length">
    <h1>Submissions</h1>
    <table class="table">
      <tr>
        <th>Problem Name</th>
        <th>Submitted File</th>
        <th>Status</th>
      </tr>
      <tr ng-repeat="submission in submitted"
          ng-class="{ success: submission.status=='correct', danger: submission.status=='incorrect'
                      || submission.status=='runtime' || submission.status=='compile'
                      || submission.status=='timeout'}">
        <td>{{ submission.problem }}</td>
        <td>{{ submission.fileName }}</td>
        <td>{{ submission.statusDescription }}</td>
      </tr>
    </table>
  </div>
</div>
