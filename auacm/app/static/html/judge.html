<div class="body main-fixed col-md-10 col-md-offset-1">
  <div class="container col-md-12 col-md-offset-0 margin-top">
    <div class="panel panel-default">

      <!-- Page title -->
      <div class="panel-heading">
        <h1 class="panel-title">Submit File</h1>
      </div>

      <!-- Judge body -->
      <div class="panel-body">
        <form class="form-horizontal">
          <div class="form-group">
            <label for="pidSelector" class="col-sm-2 control-label">Problem</label>
            <div class="col-sm-8">
              <select id="pidSelector" class="col-sm-2 form-control"
                      ng-options="problem.pid as problem.name for problem in problems"
                      ng-model="pid"></select>
            </div>
          </div>
          <div class="form-group">
            <label for="fileUpload" class="col-sm-2 control-label">Source code</label>
            <input type="file" accept=".java,.py,.c,.cpp,.c++,.go" file-model="file"
                ng-disabled="!loggedIn"/>
          </div>
          <div class="form-group" ng-if="file.name.endsWith('.py')">
            <label for="pythonSelector" class="col-sm-2 control-label">Python Version</label>
            <div class="col-sm-3">
              <select id="pythonSelector" class="col-sm-2 form-control"
                  ng-model="python.version">
                <option value="py">Python 2.7</option>
                <option value="py3">Python 3</option>
              </select>
            </div>
          </div>
          <button type="submit" class="btn btn-default col-sm-offset-2 col-sm-2"
              ng-click="submit()" ng-disabled="!loggedIn">Submit</button>
        </form>
      </div>
    </div>
    <div ng-show="submitted.length">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h1 class="panel-title">Submissions</h1>
        </div>

        <table class="table">
          <thead>
            <tr>
              <th class="col-md-4">Problem Name</th>
              <th class="col-md-4">Submitted File</th>
              <th class="col-md-4">Status</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="submission in submitted"
                ng-class="{ success: submission.status=='correct', danger: submission.status=='incorrect'
                            || submission.status=='runtime' || submission.status=='compile'
                            || submission.status=='timeout'}">
              <td>{{ submission.problem }}</td>
              <td>{{ submission.fileName }}</td>
              <td>{{ submission.statusDescription }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
