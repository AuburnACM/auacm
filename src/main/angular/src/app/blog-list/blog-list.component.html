<div class="body">
  <!-- Container -->
  <div class="col-md-8 col-md-offset-2 text-center">
    <div class="page-header">
      <h1>Auburn ACM Blog</h1>
    </div>
    <div class="row blog-list text-left" (mouseover)="hoverId = post.id"
        (mouseleave)="hoverId = EDIT_ICON_NONE" *ngFor="let post of blogPosts">
      <div class="row header-parent">
        <div class="col-md-11">
          <a [routerLink]="['/blog/' + post.id]"><h2>{{ post.title }} <small>{{ post.subtitle }}</small></h2></a>
          <h5>
            <small>
              Posted on {{ post.postTime | date:'short' }} by
              <a [routerLink]="['/profile/' + post.author.username]">{{ post.author.display }}</a>
            </small>
          </h5>
        </div>
        <div class="col-md-1 text-center">
          <div class="row vertical-center dropdown"
              *ngIf="user.isAdmin && hoverId === post.id">
            <h3 class="col-md-6"><span (click)="editPost(post.id)" class="hover-pointer glyphicon glyphicon-pencil" aria-hidden="true"></span></h3>
            <h3 class="col-md-6 dropdown-toggle" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><span class="hover-pointer glyphicon glyphicon-remove dropdown-toggle" aria-hidden="true">
            </span></h3>
            <!-- <div class="dropdown-menu center-text" aria-labelledby="dropdownMenu1">
              <p>Are you sure you want to delete this post?</p>
            </div> -->
            <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1">
              <li class="text-center"><p class="confirm-delete">Are you sure you want to delete this post?</p></li>
              <li class="text-center"><button (click)="deletePost(post.id, index)" class="btn btn-danger">Delete</button></li>
            </ul>
            </div>
        </div>
      </div>
      <div class="text-left" [innerHTML]="post.expanded ? converter.makeHtml(post.body)
          : converter.makeHtml(post.body) | limitWords : wordLimitSize"></div>
      <button *ngIf="post.resized" class="btn btn-default pull-right"
          (click)="toggleBlogPost(post)" role="button">{{post.expanded ? 'Hide' : 'Continue Reading'}} <span
              [ngClass]="{'glyphicon': true, 'glyphicon-chevron-up': post.expanded,
              'glyphicon-chevron-down': !post.expanded}" aria-hidden="true"></span></button>
    </div>
    <button *ngIf="!loading && blogPosts.length % limit == 0 && !noMoreBlogs" (click)="fetchMoreBlogs()" class="btn btn-default load-more">Load more...</button>
  </div>
</div>
